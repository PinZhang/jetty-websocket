<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WebSocket Demo</title>
</head>
<body>
	<div id="display"></div>
	<script>
		window.WebSocket = window.WebSocket || window.mozWebSocket || window.webkitWebSocket;
	
		window.addEventListener("load", function() {
			if (!window.WebSocket) {
				alert("WebSocket not supported by this browser");
				return;
			} 
			
			var ws = new WebSocket("ws://localhost:8080/websocket");
			ws.onmessage = function(evt) {
				document.getElementById("display").innerHTML = evt.data;
			};
			
			ws.onclose = function() {
				alert("closed!");
			};
			
			ws.onopen = function() {
				ws.send("Hello, Server!");
			};
		}, false);
	</script>
	
</body>
</html>